CREATE TABLE [HRSC].[STORED_RESULT] (
    [BUSINESS_CENTER_ID]         BIGINT          NULL,
    [COLLABORATOR_EMPLOYEE_ID]   BIGINT          NULL,
    [CONTACT__EMPLOYEE_ID]       BIGINT          NULL,
    [HR_REQUEST_ID]              BIGINT          NOT NULL,
    [HR_REQUEST_INTERVENTION_ID] BIGINT          NULL,
    [HR_REQUEST_TYPE_ID]         BIGINT          NULL,
    [INTERVENTION_STATUS_ID]     BIGINT          NULL,
    [LEAD_EMPLOYEE_ID]           BIGINT          NULL,
    [MANAGER_EMPLOYEE_ID]        BIGINT          NULL,
    [REQUEST_STATUS_ID]          BIGINT          NULL,
    [SUBMITTER_EMPLOYEE_ID]      BIGINT          NULL,
    [CLASSIFICATION_EN]          NVARCHAR (25)   NULL,
    [CLASSIFICATION_FR]          NVARCHAR (25)   NULL,
    [COLLABORATOR]               NVARCHAR (120)  NULL,
    [CONTACT_NAME]               NVARCHAR (120)  NULL,
    [DATE_ASSIGNED]              DATETIME        NULL,
    [HR_REQUEST_IDENTIFIER]      NVARCHAR (16)   NOT NULL,
    [INTERVENTION_KEYWORDS_TEXT] NVARCHAR (250)  NULL,
    [LAST_INTERVENTION_NOTE]     NVARCHAR (4000) NULL,
    [LAST_REQUEST_NOTE]          NVARCHAR (4000) NULL,
    [LEAD]                       NVARCHAR (120)  NULL,
    [MANAGER_NAME]               NVARCHAR (120)  NULL,
    [REQUEST_DESCRIPTION_TEXT]   NVARCHAR (4000) NULL,
    [REQUEST_KEYWORDS_TEXT]      NVARCHAR (250)  NULL,
    [REQUEST_RELATED_COUNT]      BIGINT          NULL,
    [REQUEST_STATUS_DATE]        DATETIME        NULL,
    [SUBMITTER_NAME]             NVARCHAR (120)  NULL,
    CONSTRAINT [fk_storres_business_center] FOREIGN KEY ([BUSINESS_CENTER_ID]) REFERENCES [HRSC].[CD_BUSINESS_CENTER] ([BUSINESS_CENTER_ID]),
    CONSTRAINT [fk_storres_coll_empl] FOREIGN KEY ([COLLABORATOR_EMPLOYEE_ID]) REFERENCES [HRSC].[EMPLOYEE] ([EMPLOYEE_ID]),
    CONSTRAINT [fk_storres_contact_empl] FOREIGN KEY ([CONTACT__EMPLOYEE_ID]) REFERENCES [HRSC].[EMPLOYEE] ([EMPLOYEE_ID]),
    CONSTRAINT [fk_storres_intervention_status] FOREIGN KEY ([INTERVENTION_STATUS_ID]) REFERENCES [HRSC].[CD_REQUEST_STATUS] ([REQUEST_STATUS_ID]),
    CONSTRAINT [fk_storres_lead_empl] FOREIGN KEY ([LEAD_EMPLOYEE_ID]) REFERENCES [HRSC].[EMPLOYEE] ([EMPLOYEE_ID]),
    CONSTRAINT [fk_storres_manager_empl] FOREIGN KEY ([MANAGER_EMPLOYEE_ID]) REFERENCES [HRSC].[EMPLOYEE] ([EMPLOYEE_ID]),
    CONSTRAINT [fk_storres_req_status] FOREIGN KEY ([REQUEST_STATUS_ID]) REFERENCES [HRSC].[CD_REQUEST_STATUS] ([REQUEST_STATUS_ID]),
    CONSTRAINT [fk_storres_reqint] FOREIGN KEY ([HR_REQUEST_INTERVENTION_ID]) REFERENCES [HRSC].[HR_REQUEST_INTERVENTION] ([HR_REQUEST_INTERVENTION_ID]),
    CONSTRAINT [fk_storres_reqtype] FOREIGN KEY ([HR_REQUEST_TYPE_ID]) REFERENCES [HRSC].[CD_HR_REQUEST_TYPE] ([HR_REQUEST_TYPE_ID]),
    CONSTRAINT [fk_storres_request] FOREIGN KEY ([HR_REQUEST_ID]) REFERENCES [HRSC].[HR_REQUEST] ([HR_REQUEST_ID]),
    CONSTRAINT [fk_storres_submitter_empl] FOREIGN KEY ([SUBMITTER_EMPLOYEE_ID]) REFERENCES [HRSC].[EMPLOYEE] ([EMPLOYEE_ID])
);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_BUSINESS_CENTER_ID]
    ON [HRSC].[STORED_RESULT]([BUSINESS_CENTER_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_COLLABORATOR_EMPLOYEE_ID]
    ON [HRSC].[STORED_RESULT]([COLLABORATOR_EMPLOYEE_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_CONTACT__EMPLOYEE_ID]
    ON [HRSC].[STORED_RESULT]([CONTACT__EMPLOYEE_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_HR_REQUEST_ID]
    ON [HRSC].[STORED_RESULT]([HR_REQUEST_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_HR_REQUEST_INTERVENTION_ID]
    ON [HRSC].[STORED_RESULT]([HR_REQUEST_INTERVENTION_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_HR_REQUEST_TYPE_ID]
    ON [HRSC].[STORED_RESULT]([HR_REQUEST_TYPE_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_INTERVENTION_STATUS_ID]
    ON [HRSC].[STORED_RESULT]([INTERVENTION_STATUS_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_LEAD_EMPLOYEE_ID]
    ON [HRSC].[STORED_RESULT]([LEAD_EMPLOYEE_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_MANAGER_EMPLOYEE_ID]
    ON [HRSC].[STORED_RESULT]([MANAGER_EMPLOYEE_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_REQUEST_STATUS_ID]
    ON [HRSC].[STORED_RESULT]([REQUEST_STATUS_ID] ASC);


GO
CREATE NONCLUSTERED INDEX [IX_STORED_RESULT_SUBMITTER_EMPLOYEE_ID]
    ON [HRSC].[STORED_RESULT]([SUBMITTER_EMPLOYEE_ID] ASC);

